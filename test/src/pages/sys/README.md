# 设计需求说明

应用场景：
同一公司，多个内部产品，用户为公司内部成员

1. 多产品权限管理（特殊情况是：仅有一个产品）
1. 是否共用用户
- 共用用户时处理方法
- 非共用用户时处理方法
    - 可同步其它

2. 权限系统单独部署，与产品分离（即共用权限系统）
  优点：不需要重复开发，权限集中管理，操作方便
  缺点：共用权限接口 api 地址

3. 每个产品中都包含权限系统模块
  优点：单独权限接口 api 地址
  缺点：需要重复开发，但量不大


路由权限设计有些考虑的问题：

路由主要分为这几类：未登录可访问、登录显示导航中（显性）、登录未显示在导航中（隐性）
未登录后需要跳转到未登录访问首页，当然此产品没有，直接跳到单点登录页
已登录后，跳转无权限路由，将转到404页

资源管理采用树形结构，同级叶子可以进行拖拽调换位置展示导航菜单，每级叶子均可以添加叶子，删除修改。叶子的信息这里有些特有的设计：

节点类别：
外链项目：产品项目属于需要外来的，挂载在平台下，webUrl将要填写完整地址
项目根：产品项目
资源根：导航级的根
资源叶子：导航级叶子（显性），如果此类型下还有叶子，那将属于隐性路由
web类别：菜单级（显性），内容级（隐性）
资源操作类型：每个路由级界面下的操作权限配置


对于此颗资源树的数据操作保存的管理开发，其实当产品越来越多，树将会越来越繁杂，层级节点将会越来越多，需要将树进行产品级的保存及展示优化

每个路由界面级均有操作权限配置信息，因此需要对所有页面的按钮级操作进行权限配置，主要通过显隐操作来控制